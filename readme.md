
# ğŸ“Š Twitter Data Analysis (Indian Market Sentiment)

**Analyze Twitter/X conversations around Indian stock indices and convert them into actionable market signals.**

This repository collects live tweets related to key Indian market hashtags, processes them, performs sentiment analysis, generates engagement-weighted trading signals, and visualizes results â€” all in a reproducible, Dockerized environment *without* using paid APIs.

---

## ğŸš€ Table of Contents

1. ğŸ“¦ Features
2. ğŸ§  System Overview
3. ğŸ§± Architecture & Modules
4. ğŸ³ Setup & Installation
5. â–¶ï¸ Running the Project
6. ğŸ“‚ Output & Data Flow
7. ğŸ” How it Works (Under the Hood)
8. ğŸ›  Troubleshooting & Anti-Bot Strategies
9. ğŸ“ Notes on Data & Compliance
10. ğŸ’¡ Future Enhancements
11. ğŸ“œ License

---

## ğŸ“¦ Features

âœ” Scrape live tweets containing market hashtags
âœ” Handle Unicode and multilingual content
âœ” Deduplicate tweet streams
âœ” Convert text to sentiment scores
âœ” Weight sentiment by engagement metrics
âœ” Produce hourly aggregated trading signals
âœ” Visualize trends over time
âœ” Docker-ready + reproducible environment
âœ” No paid APIs (Twitter API NOT used)

---

## ğŸ§  System Overview

This project implements a real-time market intelligence pipeline:

```
Twitter (X)
   â†“
Selenium Scraper (Docker)
   â†“
Raw JSON
   â†“
Cleaning & Normalization
   â†“
Sentiment Scoring
   â†“
Engagement Weighting
   â†“
Hourly Aggregation
   â†“
Visualizations
```

Output:

```
signals.parquet
plots/*.png
```

---

## ğŸ§± Architecture & Modules

### ğŸ§° Root

* `main.py` â€” Orchestrates full workflow

### ğŸ“ scrappers/

* `twitter/scrapper.py` â€” Core tweet collection
* Cookie-based auth

### ğŸ“ cleaning/

* Merges JSONs
* Extracts hashtags
* Cleans text
* Deduplicates

### ğŸ“ analysis/

* Sentiment analysis (VADER)
* Engagement weighting
* Aggregation
* Plotting

### ğŸ“ data/

- scrapped_data
    - data directly scrapped from twitter for each hashtag
- cleaned_data
    - data generated by merging multiple hashtags
    - time line based data for analysis
* Only sample files committed

### ğŸ“ plots/

* Resulting sentiment plots

---

## ğŸ³ Setup & Installation

### 1) Clone repository

```bash
git clone https://github.com/ashutosh4398/twitter_data_analysis
cd twitter_data_analysis
```

---

### 2) Install Docker

Ensure Docker and Docker Compose are installed.

---

### 3) Add Twitter cookies

Log into Twitter/X in a browser and export your cookies
Save as:

```
twitter_data_analysis/twitter_cookies.json
```

This avoids captchas and API limits.

---

### 4) Docker Compose

Start Selenium + Chrome browser:

```bash
docker compose up --build
```

This launches:

* Selenium Grid
* Chrome browser
* Remote WebDriver

---

## â–¶ï¸ Running the Project

### 1) Scrape tweets

```bash
docker exec -it main_app bash
python main.py
```

This scrapes tweets for:

```
#banknifty
#nifty50
#sensex
#intraday
```

Tweets are saved as JSON in:

```
data/cleaned_data/*.json
```

---

### 2) Clean & Normalize

```bash
cleaning/twitter/data_cleaner.py
```

This produces:

```
data/cleaned_data/cleaned_twitter_data.parquet
```

---

### 3) Sentiment Scoring

```bash
analysis/twitter/analyse.py
```

Generates:

```
data/cleaned_data/twitter_time_series.parquet
```
- peforms engagement and weighing
- performs aggregation and signalling
- plots graph for visualizing market sentiment

---



```bash
python analysis/weighting.py
```
---

### 6) Visualize Trends


```
plots/*.png
```

---

## ğŸ” How it Works (Key Insights)

### ğŸŸ¡ Engagement Weighting

Tweets are not equally important.
We weight sentiment by:

```
impact = log(1 + views + 2Ã—likes + 3Ã—retweets + replies)
```

This approximates *reach* and *influence*.

---

### ğŸŸ¡ Multi-Hashtag Support

Tweets with multiple hashtags are mapped to each market signal separately using:

```python
df = df.explode("hashtags")
```

---

### ğŸŸ¡ Anti-Bot Detection Management

To evade Twitterâ€™s anti-bot protections:

* Use authenticated Chrome via cookies
* Randomized scroll intervals
* Rate-limit cool-off periods
* Skip stale DOM elements

---

## ğŸ›  Troubleshooting

### â— StaleElementReferenceException

This occurs when Twitter reuses DOM nodes.
Handled by skipping stale articles.

---

### â— Rate-Limiting

Detected by page text.
When rate-limited:

```
sleep 60â€“120s
driver.refresh()
```

---

## ğŸ“ Notes on Data & Compliance

**Raw tweets are NOT committed** due to ToS and copyright.
Only *sample* datasets (small subset) are included for reproducibility.

---

## ğŸ’¡ Future Enhancements

* Use transformer-based sentiment (BERT)
* Distributed scraping
* Real-time dashboard
* Support additional languages
* Custom feature engineering

---

## ğŸ“œ License

MIT License Â© 2025

---